<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit INLA model — fit_inla_model • mbg</title><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Figtree-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><link href="../deps/KaTex-0.16.10/katex.min.css" rel="stylesheet"><script src="../deps/KaTex-0.16.10/katex.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Fit INLA model — fit_inla_model"><meta name="description" content="Fit an INLA model based on a constructed data stack and formula"><meta property="og:description" content="Fit an INLA model based on a constructed data stack and formula"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mbg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/mbg.html">Getting started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-more-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">More tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-more-tutorials"><li><a class="dropdown-item" href="../articles/spatial-ml-models.html">Running spatial ML models</a></li>
    <li><a class="dropdown-item" href="../articles/all-model-options.html">All MBG model runner options</a></li>
    <li><a class="dropdown-item" href="../articles/model-comparison.html">Model validation and comparison</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/henryspatialanalysis/mbg/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Fit INLA model</h1>
      <small class="dont-index">Source: <a href="https://github.com/henryspatialanalysis/mbg/blob/main/R/fit_inla_model.R" class="external-link"><code>R/fit_inla_model.R</code></a></small>
      <div class="d-none name"><code>fit_inla_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fit an INLA model based on a constructed data stack and formula</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fit_inla_model</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">data_stack</span>,</span>
<span>  <span class="va">spde</span>,</span>
<span>  samplesize_vec <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  precision_vec <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  family <span class="op">=</span> <span class="st">"binomial"</span>,</span>
<span>  link <span class="op">=</span> <span class="st">"logit"</span>,</span>
<span>  fixed_effects_pc_prior <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>threshold <span class="op">=</span> <span class="fl">3</span>, prob_above <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>(character) INLA formula to fit. Generated in
<code><a href="prepare_inla_data_stack.html">prepare_inla_data_stack()</a></code>, then interpreted using <code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">stats::as.formula()</a></code> within the
call to <code><a href="https://rdrr.io/pkg/INLA/man/inla.html" class="external-link">INLA::inla()</a></code>.</p></dd>


<dt id="arg-data-stack">data_stack<a class="anchor" aria-label="anchor" href="#arg-data-stack"></a></dt>
<dd><p>Stacked data, covariates, and spatial index. Generated in
<code><a href="prepare_inla_data_stack.html">prepare_inla_data_stack()</a></code>.</p></dd>


<dt id="arg-spde">spde<a class="anchor" aria-label="anchor" href="#arg-spde"></a></dt>
<dd><p>SPDE object generated by <code><a href="prepare_inla_data_stack.html">prepare_inla_data_stack()</a></code>.</p></dd>


<dt id="arg-samplesize-vec">samplesize_vec<a class="anchor" aria-label="anchor" href="#arg-samplesize-vec"></a></dt>
<dd><p>(<code>integer(N)</code>, default 1) Sample sizes for each data observation.
Only used for binomial data models.</p></dd>


<dt id="arg-precision-vec">precision_vec<a class="anchor" aria-label="anchor" href="#arg-precision-vec"></a></dt>
<dd><p>(<code>numeric(N)</code>, default 1) Precision for each data observation.
Only used for gaussian data models.</p></dd>


<dt id="arg-family">family<a class="anchor" aria-label="anchor" href="#arg-family"></a></dt>
<dd><p>(character, default 'binomial') GLM family to use. For more information,
see <code><a href="https://rdrr.io/r/stats/family.html" class="external-link">stats::family()</a></code>.</p></dd>


<dt id="arg-link">link<a class="anchor" aria-label="anchor" href="#arg-link"></a></dt>
<dd><p>(character, default 'logit') Link function to use, typically related to the
GLM <code>family</code>.</p></dd>


<dt id="arg-fixed-effects-pc-prior">fixed_effects_pc_prior<a class="anchor" aria-label="anchor" href="#arg-fixed-effects-pc-prior"></a></dt>
<dd><p>A named list specifying the penalized complexity prior
for all fixed effects except for the intercept. The two named items are "threshold",
the test threshold for the size of each fixed effect, and "prob_above", the prior
probability that the beta for each covariate will EXCEED that threshold.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(<code>logical(1)</code>, default TRUE) Log progress for INLA model fitting?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A fitted INLA model object created by <code><a href="https://rdrr.io/pkg/INLA/man/inla.html" class="external-link">INLA::inla()</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Using <code><a href="https://rdrr.io/pkg/INLA/man/inla.html" class="external-link">INLA::inla()</a></code> with reasonable defaults and settings tuned to predict
across a grid.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="MbgModelRunner.html">MbgModelRunner</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nathaniel Henry, Benjamin Mayala.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

